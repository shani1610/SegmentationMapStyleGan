# Creating Segmentation Maps using Style GAN

## StyleGAN

1) prepare the data:

   `python code/StyleGAN/prepare_data.py --out data/prepared_for_styleGAN/LMDB_PATH --n_worker 1 data/original_gtFine`

2) train:

    `python code/StyleGAN/train.py data/prepared_for_styleGAN/LMDB_PATH`

3) generate new images after training:

    `python code/StyleGAN/generate.py code/StyleGAN/checkpoint/train_step-5.model --size 64`

## SPADE

1) generate new images from the original cityscape dataset:

  `python code/SPADE/test.py --name cityscapes_pretrained/ --dataset_mode cityscapes --dataroot data/original_for_SPADE/--batchSize  8`
  
  if a CUDA memory limit occure try to use smaller batch size.

2) generate new images from the dataset that were generated by the styleGAN:

  `python test.py --name cityscapes_pretrained/ --dataset_mode cityscapes --dataroot ../../generated_samples/fine_25_5_21_eralFine/ --batchSize 8 --label_nc 36 --no_instance       --crop_size 64 --load_size 64`
  
3) train with cityscape labels but with no instances:

`python train.py --name cityscapes_our/ --dataset_mode custom --label_dir ../../data_labelIds --image_dir ../../data_leftImgs --label_nc 35 --no_instance --no_pairing_check`

(doesnt work there is an assertion error)

## git

to connect to git repository if didnt do clone in the fir time ( to define git repository)

`git remote set-url origin  https://github.com/shani1610/DCGAN_Tutorial.git`

## Acknowledgments

This code borrows heavily from style-based-gan-pytorch and SPADE. We thank the creators. 
